{
  "config": "14b_ACT_airline",
  "file": "/Users/chriskurian/Desktop/Notes/code/classes/ai-agents-598/projects/tau-bench/phase_2/JSON_trajectories /act_airline_trials5_qwen_14b/act-Qwen3-14B-0.0_range_0--1_user-Qwen3-32B-llm_0131233237.json",
  "stats": {
    "total_tasks": 50,
    "total_failures_in_file": 189,
    "unique_failures_sampled": 46
  },
  "summary": {
    "incomplete_execution": {
      "count": 11,
      "percentage": 23.9
    },
    "reasoning_failure": {
      "count": 10,
      "percentage": 21.7
    },
    "policy_violation": {
      "count": 9,
      "percentage": 19.6
    },
    "wrong_arguments": {
      "count": 8,
      "percentage": 17.4
    },
    "premature_escalation": {
      "count": 4,
      "percentage": 8.7
    },
    "wrong_tool": {
      "count": 3,
      "percentage": 6.5
    },
    "user_simulator_error": {
      "count": 1,
      "percentage": 2.2
    }
  },
  "classifications": [
    {
      "task_id": 0,
      "trial": 0,
      "instruction": "Your user id is mia_li_3668. You want to fly from New York to Seattle on May 20 (one way). You do not want to fly before 11am est. You want to fly in economy. You prefer direct flights but one stopover also fine. If there are multiple options, you prefer the one with the lowest price. You have 3 baggages. You do not want insurance. You want to use your two certificates to pay. If only one certificate can be used, you prefer using the larger one, and pay the rest with your 7447 card. You are reactive to the agent and will not say anything that is not asked. Your birthday is in your user profile so you do not prefer to provide it.",
      "ground_truth_actions": [
        {
          "name": "book_reservation",
          "kwargs": {
            "user_id": "mia_li_3668",
            "origin": "JFK",
            "destination": "SEA",
            "flight_type": "one_way",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT136",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT039",
                "date": "2024-05-20"
              }
            ],
            "passengers": [
              {
                "first_name": "Mia",
                "last_name": "Li",
                "dob": "1990-04-05"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "certificate_7504069",
                "amount": 250
              },
              {
                "payment_id": "credit_card_4421486",
                "amount": 5
              }
            ],
            "total_baggages": 3,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "list_all_airports",
          "arguments": {}
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "JFK",
            "destination": "SEA",
            "date": "2024-05-20"
          }
        },
        {
          "name": "search_onestop_flight",
          "arguments": {
            "origin": "JFK",
            "destination": "SEA",
            "date": "2024-05-20"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "sara_doe_496"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "mia_li_3668"
          }
        },
        {
          "name": "book_reservation",
          "arguments": {
            "user_id": "mia_li_3668",
            "origin": "JFK",
            "destination": "SEA",
            "flight_type": "one_way",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT136",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT039",
                "date": "2024-05-20"
              }
            ],
            "passengers": [
              {
                "first_name": "Amelia",
                "last_name": "Ahmed",
                "dob": "1957-03-21"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "certificate_7504069",
                "amount": 100
              },
              {
                "payment_id": "credit_card_4421486",
                "amount": 4
              }
            ],
            "total_baggages": 3,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        },
        {
          "name": "book_reservation",
          "arguments": {
            "user_id": "mia_li_3668",
            "origin": "JFK",
            "destination": "SEA",
            "flight_type": "one_way",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT136",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT039",
                "date": "2024-05-20"
              }
            ],
            "passengers": [
              {
                "first_name": "Amelia",
                "last_name": "Ahmed",
                "dob": "1957-03-21"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "certificate_7504069",
                "amount": 250
              },
              {
                "payment_id": "credit_card_4421486",
                "amount": 5
              }
            ],
            "total_baggages": 3,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "classification": {
        "primary_category": "wrong_arguments",
        "sub_category": "incorrect_passenger_information",
        "explanation": "The agent booked the reservation with passenger 'Amelia Ahmed' (from a saved passenger in the user profile) instead of the actual traveler 'Mia Li'. The ground truth shows the passenger should have been Mia Li with DOB 1990-04-05, which was available in the user profile that the agent had already retrieved."
      }
    },
    {
      "task_id": 1,
      "trial": 0,
      "instruction": "Your user id is olivia_gonzalez_2305, you currently reside in Newark, and you will have a crazy half-day trip to Texas. It is in your reservations but you don't remember the reservation id. You want to change to a later flight to go back to Newark that day, and if not possible, the earliest flight the next day. Your current return flight departs 3pm. You do not accept JFK, only EWR. You are reactive to the agent and will not say anything that is not asked. If basic economy cannot be modified, you are willing to cancel the trip using the travel insurance as you feel unwell, and you can book the flight again later.",
      "ground_truth_actions": [
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "Z7GOZK"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "olivia_gonzalez_123"
          }
        }
      ],
      "classification": {
        "primary_category": "reasoning_failure",
        "sub_category": "failed to use correct user_id from task description",
        "explanation": "The agent attempted to retrieve user details with 'olivia_gonzalez_123' instead of the correct user_id 'olivia_gonzalez_2305' that was provided in the user's goal description. This fundamental error prevented the agent from accessing the user's profile and reservation details, leading to premature escalation when the correct information was available from the start."
      }
    },
    {
      "task_id": 2,
      "trial": 0,
      "instruction": "Your user id is omar_davis_3817, you just faced some money issue and want to downgrade all business flights to economy, without changing the flights or passengers. You are fine with refunding to original payment for each reservation. You want to know how much money you have saved in total. You are emotional and a bit angry, but you are willing to cooperate with the agent.",
      "ground_truth_actions": [
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "JG7FMM",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT028",
                "date": "2024-05-21"
              },
              {
                "flight_number": "HAT277",
                "date": "2024-05-21"
              }
            ],
            "payment_id": "credit_card_2929732"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "2FBBAH",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT080",
                "date": "2024-05-28"
              },
              {
                "flight_number": "HAT076",
                "date": "2024-05-28"
              },
              {
                "flight_number": "HAT255",
                "date": "2024-05-30"
              },
              {
                "flight_number": "HAT148",
                "date": "2024-05-30"
              }
            ],
            "payment_id": "gift_card_3481935"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "X7BYG1",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT232",
                "date": "2024-05-24"
              },
              {
                "flight_number": "HAT228",
                "date": "2024-05-24"
              }
            ],
            "payment_id": "credit_card_2929732"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "EQ1G6C",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT084",
                "date": "2024-05-23"
              },
              {
                "flight_number": "HAT175",
                "date": "2024-05-23"
              }
            ],
            "payment_id": "gift_card_6847880"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "BOH180",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT276",
                "date": "2024-05-21"
              },
              {
                "flight_number": "HAT279",
                "date": "2024-05-22"
              }
            ],
            "payment_id": "credit_card_9525117"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "ZFA04Y"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "omar_davis_3817"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "JG7FMM"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "MCO",
            "destination": "BOS",
            "date": "2024-05-21"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "BOS",
            "destination": "CLT",
            "date": "2024-05-21"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "JG7FMM",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT028",
                "date": "2024-05-21"
              },
              {
                "flight_number": "HAT277",
                "date": "2024-05-21"
              }
            ],
            "payment_id": "credit_card_2929732"
          }
        }
      ],
      "classification": {
        "primary_category": "incomplete_execution",
        "sub_category": "only_processed_one_of_five_reservations",
        "explanation": "The agent successfully downgraded reservation JG7FMM from business to economy, but failed to process the other four business class reservations (2FBBAH, X7BYG1, EQ1G6C, BOH180) that also needed to be downgraded. The user requested to downgrade 'all' business flights, but the agent stopped after handling only one reservation and provided an incomplete savings total."
      }
    },
    {
      "task_id": 3,
      "trial": 0,
      "instruction": "Your user id is sofia_kim_7287, and you want to change for your Houston to Denver trip (reservation id not remembered), the fastest return trip (including stopover time) possible on the same day as the departure trip (May 27). You don't care about money but want to stay in economy. You also want to add one checked bag. You want to use your gift card with the smallest balance to pay. You are reactive to the agent and will not say anything that is not asked. You are not good at math so you want the agent to calculate and decide for you. Try to paraphrase instead of repeating this instruction. It is urgent.",
      "ground_truth_actions": [
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "OBUT9V",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT078",
                "date": "2024-05-27"
              },
              {
                "flight_number": "HAT118",
                "date": "2024-05-27"
              },
              {
                "flight_number": "HAT290",
                "date": "2024-05-27"
              },
              {
                "flight_number": "HAT175",
                "date": "2024-05-27"
              }
            ],
            "payment_id": "gift_card_6276644"
          }
        },
        {
          "name": "update_reservation_baggages",
          "kwargs": {
            "reservation_id": "OBUT9V",
            "total_baggages": 2,
            "nonfree_baggages": 0,
            "payment_id": "gift_card_6276644"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "user123"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "user123"
          }
        }
      ],
      "classification": {
        "primary_category": "reasoning_failure",
        "sub_category": "failed to use provided user_id from user goal",
        "explanation": "The agent attempted to call get_user_details with a hardcoded 'user123' instead of recognizing that the user's actual ID 'sofia_kim_7287' should have been extracted from context or asked for directly. The agent failed to understand that the user ID was implicitly available in the task setup and instead made incorrect assumptions, leading to repeated failed API calls and inability to proceed with the reservation modification."
      }
    },
    {
      "task_id": 4,
      "trial": 0,
      "instruction": "Your user id is omar_rossi_1241. For your upcoming trip from New York to Chicago, you want to change the passenger to yourself, upgrade it to economy class, and have 3 checked bags. You prefer gift card payment. Your birthday is in your user profile so you do not prefer to provide it. You are reactive to the agent and will not say anything that is not asked.",
      "ground_truth_actions": [
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "FQ8APE",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT056",
                "date": "2024-05-25"
              },
              {
                "flight_number": "HAT138",
                "date": "2024-05-25"
              }
            ],
            "payment_id": "gift_card_8190333"
          }
        },
        {
          "name": "update_reservation_passengers",
          "kwargs": {
            "reservation_id": "FQ8APE",
            "passengers": [
              {
                "first_name": "Omar",
                "last_name": "Rossi",
                "dob": "1970-06-06"
              }
            ]
          }
        },
        {
          "name": "update_reservation_baggages",
          "kwargs": {
            "reservation_id": "FQ8APE",
            "total_baggages": 3,
            "nonfree_baggages": 0,
            "payment_id": "gift_card_8190333"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "john_doe_123"
          }
        }
      ],
      "classification": {
        "primary_category": "reasoning_failure",
        "sub_category": "failed_to_use_provided_user_id",
        "explanation": "The agent attempted to call get_user_details with 'john_doe_123' instead of using the user ID provided in the user's goal ('omar_rossi_1241'). After the error, the agent entered an infinite loop asking for the user ID rather than recognizing the user had already implicitly provided it in their initial request context, or asking the user to explicitly state it."
      }
    },
    {
      "task_id": 5,
      "trial": 0,
      "instruction": "Your user id is omar_rossi_1241. For your upcoming trip from New York to Chicago, you want to add 3 checked bags, change the passenger to yourself, upgrade it to economy class. Make sure to mention all three things at once in the order. You prefer gift card payment. Your birthday is in your user profile so you do not prefer to provide it.",
      "ground_truth_actions": [
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "FQ8APE",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT056",
                "date": "2024-05-25"
              },
              {
                "flight_number": "HAT138",
                "date": "2024-05-25"
              }
            ],
            "payment_id": "gift_card_8190333"
          }
        },
        {
          "name": "update_reservation_passengers",
          "kwargs": {
            "reservation_id": "FQ8APE",
            "passengers": [
              {
                "first_name": "Omar",
                "last_name": "Rossi",
                "dob": "1970-06-06"
              }
            ]
          }
        },
        {
          "name": "update_reservation_baggages",
          "kwargs": {
            "reservation_id": "FQ8APE",
            "total_baggages": 3,
            "nonfree_baggages": 0,
            "payment_id": "gift_card_8190333"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "ZFA04Y"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "sara_doe_496"
          }
        },
        {
          "name": "transfer_to_human_agents",
          "arguments": {
            "summary": "User attempted to modify reservation but provided invalid user ID and reservation ID, leading to errors. Need to verify correct IDs with user."
          }
        }
      ],
      "classification": {
        "primary_category": "reasoning_failure",
        "sub_category": "failed to use provided user_id",
        "explanation": "The agent failed to recognize that the user's ID (omar_rossi_1241) was provided in the user's goal, and instead attempted to use incorrect IDs ('ZFA04Y' for reservation and 'sara_doe_496' for user) that were never mentioned by the user. The agent should have first asked the user for their user_id and reservation_id before making any API calls, then used the correct information to retrieve the user's profile and reservation details."
      }
    },
    {
      "task_id": 6,
      "trial": 0,
      "instruction": "Your user id is aarav_garcia_1177. For your upcoming trip from ATL to PHL, you want to change for the cheapest economy flight and for the day after the original reservation. You are happy with original payment for refund.",
      "ground_truth_actions": [
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "M05KNL",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT110",
                "date": "2024-05-24"
              },
              {
                "flight_number": "HAT172",
                "date": "2024-05-24"
              }
            ],
            "payment_id": "gift_card_8887175"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "aarav_garcia_1177"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "M05KNL"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "ATL",
            "destination": "PHL",
            "date": "2024-05-24"
          }
        },
        {
          "name": "search_onestop_flight",
          "arguments": {
            "origin": "ATL",
            "destination": "PHL",
            "date": "2024-05-24"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "M05KNL"
          }
        },
        {
          "name": "book_reservation",
          "arguments": {
            "user_id": "aarav_garcia_1177",
            "origin": "ATL",
            "destination": "PHL",
            "flight_type": "one_way",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT110",
                "date": "2024-05-24"
              },
              {
                "flight_number": "HAT132",
                "date": "2024-05-24"
              }
            ],
            "passengers": [
              {
                "first_name": "Aarav",
                "last_name": "Garcia",
                "dob": "1992-09-13"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "gift_card_8887175",
                "amount": 123
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "classification": {
        "primary_category": "wrong_tool",
        "sub_category": "used cancel and book instead of update_reservation_flights",
        "explanation": "The agent canceled the reservation and attempted to book a new one instead of using update_reservation_flights to modify the existing reservation. The ground truth shows the correct approach was to call update_reservation_flights with the new flight details and payment method, which would have handled the cabin change and date change in a single operation."
      }
    },
    {
      "task_id": 7,
      "trial": 0,
      "instruction": "Your user id is aarav_garcia_1177. For your upcoming trip from ATL to PHL, you want to change for the cheapest economy flight and for the day after the original reservation. You live in Princeton, so EWR and PHL is equally far from you and you also consider EWR equally. You are happy with original payment for refund.",
      "ground_truth_actions": [
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "M05KNL",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT110",
                "date": "2024-05-24"
              },
              {
                "flight_number": "HAT172",
                "date": "2024-05-24"
              }
            ],
            "payment_id": "gift_card_8887175"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "ZFA04Y"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "aarav_garcia_1177"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "M05KNL"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "ATL",
            "destination": "PHL",
            "date": "2024-05-24"
          }
        },
        {
          "name": "search_onestop_flight",
          "arguments": {
            "origin": "ATL",
            "destination": "PHL",
            "date": "2024-05-24"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "M05KNL",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT110",
                "date": "2024-05-24"
              },
              {
                "flight_number": "HAT172",
                "date": "2024-05-24"
              }
            ],
            "payment_id": "credit_card_7815826"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "M05KNL",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT110",
                "date": "2024-05-24"
              },
              {
                "flight_number": "HAT172",
                "date": "2024-05-24"
              }
            ],
            "payment_id": "credit_card_7815826"
          }
        }
      ],
      "classification": {
        "primary_category": "reasoning_failure",
        "sub_category": "misunderstood payment requirements and failed to recognize available payment method",
        "explanation": "The agent correctly identified the cheapest economy flights (HAT110 and HAT172 for $207) but failed to recognize that the user's existing gift_card_8887175 could be used as the payment method for the reservation update. Instead, it got stuck in an infinite loop asking for credit card details that weren't needed, when the ground truth shows the correct solution was to use the existing gift_card_8887175 as the payment_id."
      }
    },
    {
      "task_id": 8,
      "trial": 0,
      "instruction": "Your user id is mohamed_silva_9265. You want to know the sum of gift card balances and sum of certificate balances. If the agent gives you individual balances, you want the sums. Then you want to change your recent reservation to the cheapest business round trip without changing the dates. You don't care about direct flight or stop over. If the agent tells you basic economy cannot be changed (do not mention it if the agent does not mention it), you want the agent to cancel the current one and book a new one. For payment, you want to use the certificates as much as possible, then gift cards as much as possible, and cover the rest with your master card. But you want to know how much your master card will be charged. You do not need baggage or insurance. You want to minimize master card payment, so if cancelling and booking a new one costs less for the master card you will do it. You are calm.",
      "ground_truth_actions": [
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "K1NW8N"
          }
        },
        {
          "name": "book_reservation",
          "kwargs": {
            "user_id": "mohamed_silva_9265",
            "origin": "JFK",
            "destination": "SFO",
            "flight_type": "round_trip",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT023",
                "date": "2024-05-26"
              },
              {
                "flight_number": "HAT204",
                "date": "2024-05-28"
              },
              {
                "flight_number": "HAT100",
                "date": "2024-05-28"
              }
            ],
            "passengers": [
              {
                "first_name": "Mohamed",
                "last_name": "Silva",
                "dob": "1960-11-26"
              },
              {
                "first_name": "Raj",
                "last_name": "Sanchez",
                "dob": "1986-09-12"
              },
              {
                "first_name": "Liam",
                "last_name": "Wilson",
                "dob": "1980-03-27"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "certificate_3765853",
                "amount": 500
              },
              {
                "payment_id": "gift_card_8020792",
                "amount": 198
              },
              {
                "payment_id": "gift_card_6136092",
                "amount": 129
              },
              {
                "payment_id": "credit_card_2198526",
                "amount": 1786
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "transfer_to_human_agents",
          "arguments": {
            "summary": "User is asking for the total balance of their gift cards and certificates, but the available tools do not provide a way to retrieve this information. The agent cannot access payment method balances directly."
          }
        }
      ],
      "classification": {
        "primary_category": "premature_escalation",
        "sub_category": "unnecessary transfer on first request",
        "explanation": "The agent transferred to a human immediately when asked for gift card and certificate balances, but should have first called get_user_details to retrieve the user's payment methods which would contain this information. The agent failed to attempt using available tools before escalating."
      }
    },
    {
      "task_id": 9,
      "trial": 0,
      "instruction": "Your user id is mohamed_silva_9265. You want to know the sum of gift card balances. You also want to know the sum of certificate balances. Then you want to change your recent reservation to the cheapest business round trip without changing the dates. You don't care about direct flight or stop over. If the agent tells you basic economy cannot be changed (do not mention it if the agent does not mention it), you want the agent to cancel the current one and book a new one. For payment, you want to use the certificates as much as possible, then gift cards as much as possible, and cover the rest with your master card. But you want to know how much your master card will be charged. You do not need baggage or insurance. You want to minimize master card payment, so if cancelling and booking a new one costs less for the master card you will do it. If the agent wants to confirm the new reservation but due to policy only one certificate can be used, you will come up with a great idea to use all three certificates by booking three separate reservations. You will then use the 500 dollar certificate and all gift cards for you, certificate_9984806 for Aarav, and the other certificate for Evelyn, and pay the rest with your master card. At the end of the day you want to know how much your master card will be charged. You are calm.",
      "ground_truth_actions": [
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "K1NW8N"
          }
        },
        {
          "name": "book_reservation",
          "kwargs": {
            "user_id": "mohamed_silva_9265",
            "origin": "JFK",
            "destination": "SFO",
            "flight_type": "round_trip",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT023",
                "date": "2024-05-26"
              },
              {
                "flight_number": "HAT204",
                "date": "2024-05-28"
              },
              {
                "flight_number": "HAT100",
                "date": "2024-05-28"
              }
            ],
            "passengers": [
              {
                "first_name": "Mohamed",
                "last_name": "Silva",
                "dob": "1960-11-26"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "certificate_3765853",
                "amount": 500
              },
              {
                "payment_id": "gift_card_8020792",
                "amount": 198
              },
              {
                "payment_id": "gift_card_6136092",
                "amount": 129
              },
              {
                "payment_id": "credit_card_2198526",
                "amount": 44
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        },
        {
          "name": "book_reservation",
          "kwargs": {
            "user_id": "mohamed_silva_9265",
            "origin": "JFK",
            "destination": "SFO",
            "flight_type": "round_trip",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT023",
                "date": "2024-05-26"
              },
              {
                "flight_number": "HAT204",
                "date": "2024-05-28"
              },
              {
                "flight_number": "HAT100",
                "date": "2024-05-28"
              }
            ],
            "passengers": [
              {
                "first_name": "Aarav",
                "last_name": "Sanchez",
                "dob": "1986-09-12"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "certificate_9984806",
                "amount": 250
              },
              {
                "payment_id": "credit_card_2198526",
                "amount": 621
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        },
        {
          "name": "book_reservation",
          "kwargs": {
            "user_id": "mohamed_silva_9265",
            "origin": "JFK",
            "destination": "SFO",
            "flight_type": "round_trip",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT023",
                "date": "2024-05-26"
              },
              {
                "flight_number": "HAT204",
                "date": "2024-05-28"
              },
              {
                "flight_number": "HAT100",
                "date": "2024-05-28"
              }
            ],
            "passengers": [
              {
                "first_name": "Evelyn",
                "last_name": "Wilson",
                "dob": "1980-03-27"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "certificate_2765295",
                "amount": 250
              },
              {
                "payment_id": "credit_card_2198526",
                "amount": 621
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "sara_doe_496"
          }
        },
        {
          "name": "transfer_to_human_agents",
          "arguments": {
            "summary": "User unable to provide valid user ID to check gift card and certificate balances."
          }
        }
      ],
      "classification": {
        "primary_category": "reasoning_failure",
        "sub_category": "failed_to_use_provided_user_id",
        "explanation": "The agent repeatedly attempted to use an incorrect user ID ('sara_doe_496') instead of using the correct user ID 'mohamed_silva_9265' that was clearly stated in the user's goal. The agent then prematurely escalated to a human agent instead of asking the user to provide their correct user ID, which the user would have given."
      }
    },
    {
      "task_id": 10,
      "trial": 0,
      "instruction": "Your user id is mia_kim_4397 and you want to remove Ethan from you reservation H9ZU1C. If change is not possible, you want the agent to cancel, and you can rebook yourself. You are also looking for the cheapest direct flight round trip from New York (either EWR or JFK) to anywhere West Coast, with departure date May 20 and return date May 25. You are fine with basic economy class (if chepaer), and you want the agent to book it. You want to first use up your smaller GC and then the larger one. Would want to use all your free baggage allowance but no insurance. Your DOB is in your user profile and you do not want to speak it. You also wonder why cancellation does not refund to GC now.",
      "ground_truth_actions": [
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "H9ZU1C"
          }
        },
        {
          "name": "book_reservation",
          "kwargs": {
            "user_id": "mia_kim_4397",
            "origin": "JFK",
            "destination": "SEA",
            "flight_type": "round_trip",
            "cabin": "basic_economy",
            "flights": [
              {
                "flight_number": "HAT069",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT276",
                "date": "2024-05-25"
              }
            ],
            "passengers": [
              {
                "first_name": "Mia",
                "last_name": "Kim",
                "dob": "1965-06-09"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "gift_card_7359776",
                "amount": 39
              },
              {
                "payment_id": "gift_card_7773485",
                "amount": 67
              }
            ],
            "total_baggages": 1,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "H9ZU1C"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "H9ZU1C"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "EWR",
            "destination": "LAX",
            "date": "2024-05-20"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "LAX",
            "destination": "EWR",
            "date": "2024-05-25"
          }
        },
        {
          "name": "book_reservation",
          "arguments": {
            "user_id": "mia_kim_4397",
            "origin": "EWR",
            "destination": "LAX",
            "flight_type": "round_trip",
            "cabin": "basic_economy",
            "flights": [
              {
                "flight_number": "HAT041",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT012",
                "date": "2024-05-25"
              }
            ],
            "passengers": [
              {
                "first_name": "James",
                "last_name": "Moore",
                "dob": "1977-02-03"
              },
              {
                "first_name": "Amelia",
                "last_name": "Sanchez",
                "dob": "1968-08-24"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "gift_card_7359776",
                "amount": 163
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "mia_kim_4397"
          }
        },
        {
          "name": "book_reservation",
          "arguments": {
            "user_id": "mia_kim_4397",
            "origin": "EWR",
            "destination": "LAX",
            "flight_type": "round_trip",
            "cabin": "basic_economy",
            "flights": [
              {
                "flight_number": "HAT041",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT012",
                "date": "2024-05-25"
              }
            ],
            "passengers": [
              {
                "first_name": "James",
                "last_name": "Moore",
                "dob": "1977-02-03"
              },
              {
                "first_name": "Amelia",
                "last_name": "Sanchez",
                "dob": "1968-08-24"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "gift_card_7359776",
                "amount": 39
              },
              {
                "payment_id": "gift_card_7773485",
                "amount": 124
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "classification": {
        "primary_category": "wrong_arguments",
        "sub_category": "wrong_passenger_list",
        "explanation": "The agent attempted to book flights for passengers 'James' and 'Amelia' from the cancelled reservation H9ZU1C, when it should have booked only for the user 'Mia Kim' (the account holder). The user wanted to remove Ethan and rebook for themselves only, not transfer the other passengers from the old reservation."
      }
    },
    {
      "task_id": 11,
      "trial": 0,
      "instruction": "Your user id is ivan_muller_7015 and you want to book the same flights as your current reservation for your friend Ivan in your user profile (Ivan Smith, DOB you can't remember but in your profile). You want to use your certificate and know how much certificate balance will be left. If more than $100 is wasted, you want to instead use your GC and CC. No baggage and insurance.",
      "ground_truth_actions": [
        {
          "name": "book_reservation",
          "kwargs": {
            "user_id": "ivan_muller_7015",
            "origin": "DTW",
            "destination": "SEA",
            "flight_type": "one_way",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT097",
                "date": "2024-05-17"
              },
              {
                "flight_number": "HAT251",
                "date": "2024-05-17"
              }
            ],
            "passengers": [
              {
                "first_name": "Ivan",
                "last_name": "Smith",
                "dob": "1986-03-14"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "gift_card_8516878",
                "amount": 128
              },
              {
                "payment_id": "credit_card_3563913",
                "amount": 247
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "ivan_muller_7015"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "G72NSF"
          }
        }
      ],
      "classification": {
        "primary_category": "reasoning_failure",
        "sub_category": "infinite loop without taking action",
        "explanation": "The agent retrieved user details and reservation information correctly but then entered an infinite loop of internal reasoning without ever attempting to book the new reservation or ask the user for missing information (Ivan Smith's DOB). The agent correctly identified the issue (Ivan Smith not in saved passengers, need to confirm payment method) but failed to act on this knowledge, repeatedly thinking through the same logic without making progress."
      }
    },
    {
      "task_id": 12,
      "trial": 1,
      "instruction": "Your user id is amelia_sanchez_4739 and you want to cancel your flights from MCO to CLT. You insist to cancel and have the refund.",
      "ground_truth_actions": [],
      "agent_actions": [],
      "classification": {
        "primary_category": "premature_escalation",
        "sub_category": "failed to use available tools to lookup reservation",
        "explanation": "The agent repeatedly asked for the reservation ID without attempting to use available tools that could retrieve the user's reservations based on their user_id (amelia_sanchez_4739). According to the expected solution, the agent should have either retrieved the reservation information using the user_id or correctly identified this as out of scope, but instead it got stuck in a loop asking for information it could have obtained through tool calls."
      }
    },
    {
      "task_id": 13,
      "trial": 0,
      "instruction": "Your user id is james_lee_6136. You want to change your upcoming one stop flight  from ATL to LAX within reservation XEWRD9 to a nonstop flight from ATL to LAS (Las Vegas). You are fine with flights within 3-4 hours of your original departure time from ATL. You are willing to pay a fee for the change, upto $100. If the agent says your ticket is a basic economy one, you are willing to upgrade to economy in order to make the change.",
      "ground_truth_actions": [
        {
          "name": "transfer_to_human_agents",
          "kwargs": {
            "summary": "User wants to change my upcoming one stop flight from ATL to LAX within reservation XEWRD9 to a nonstop flight from ATL to LAS (Las Vegas). The reservation is partially used."
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "XEWRD9"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "LAX",
            "destination": "LAS",
            "date": "2024-05-13"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "LAX",
            "destination": "LAS",
            "date": "2024-05-14"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "LAX",
            "destination": "LAS",
            "date": "2024-05-15"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "LAX",
            "destination": "LAS",
            "date": "2024-05-12"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "XEWRD9"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "LAX",
            "destination": "LAS",
            "date": "2024-05-13"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "LAX",
            "destination": "LAS",
            "date": "2024-05-14"
          }
        },
        {
          "name": "book_reservation",
          "arguments": {
            "user_id": "james_lee_6136",
            "origin": "LAX",
            "destination": "LAS",
            "flight_type": "round_trip",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "DL1014",
                "date": "2024-05-13"
              },
              {
                "flight_number": "DL1015",
                "date": "2024-05-21"
              }
            ],
            "passengers": [
              {
                "first_name": "James",
                "last_name": "Lee",
                "dob": "1995-06-11"
              },
              {
                "first_name": "Mason",
                "last_name": "Lopez",
                "dob": "1966-03-13"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "gift_card_4643416",
                "amount": 298
              }
            ],
            "total_baggages": 1,
            "nonfree_baggages": 0,
            "insurance": "yes"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "james_lee_6136"
          }
        }
      ],
      "classification": {
        "primary_category": "reasoning_failure",
        "sub_category": "failed_to_recognize_partially_used_reservation",
        "explanation": "The agent attempted to cancel and rebook the reservation without recognizing that the reservation XEWRD9 had already been partially used (flights on May 13-14 had already occurred as of May 15). According to the domain policy, agents cannot cancel reservations where segments have already been used and must transfer to human agents instead."
      }
    },
    {
      "task_id": 14,
      "trial": 0,
      "instruction": "Your user id is chen_lee_6825. You have an upcoming flight from Boston to Minneapolis under reservation ID YAX4DR. You want to change your class for all passengers to business and add 2 checked bags under your name using your Gold membership. You are willing to pay a fee for the business class changes, upto $600. If the costs are greater than that for the upgrade, then try to upgrade your companion Noah to business under the constraints.",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "YAX4DR"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "BOS",
            "destination": "MCO",
            "date": "2024-05-18"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "MCO",
            "destination": "MSP",
            "date": "2024-05-19"
          }
        },
        {
          "name": "calculate",
          "kwargs": {
            "expression": "2 * ((350 - 122) + (499 - 127))"
          }
        },
        {
          "name": "update_reservation_baggages",
          "kwargs": {
            "reservation_id": "YAX4DR",
            "total_baggages": 2,
            "nonfree_baggages": 0,
            "payment_id": "credit_card_4938634"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "YAX4DR"
          }
        },
        {
          "name": "transfer_to_human_agents",
          "arguments": {
            "summary": "User wants to upgrade reservation YAX4DR to business class and add checked bags, but the system lacks the ability to calculate cabin price differences or confirm business class availability for existing flights."
          }
        }
      ],
      "classification": {
        "primary_category": "premature_escalation",
        "sub_category": "unnecessary transfer when tools were available",
        "explanation": "The agent incorrectly transferred to a human agent claiming it couldn't calculate cabin price differences, when it should have used search_direct_flight to find business class prices for the same flights and then calculate the upgrade cost. The ground truth shows the agent had all necessary tools (search_direct_flight and calculate) to complete this task."
      }
    },
    {
      "task_id": 15,
      "trial": 3,
      "instruction": "Your user id is james_patel_9828 and want to remove passenger Sophia from your upcoming flights from LAS to DEN on May 19 and DEN to LAS on May 20, with reservation ID GV1N64. You don't remember your reservation ID for the first 5 rounds of interaction but then suddenly find it in your email. You want the cancellation to be done quickly since you are impatient. You want the entire amount refunded to original payment method. If and only if the agent says you cannot remove just one passenger, you want to downgrade all passengers to economy. Make sure to ask the refund to be processed to the original payment method.",
      "ground_truth_actions": [],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "GV1N64"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "GV1N64",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT003",
                "date": "2024-05-19"
              },
              {
                "flight_number": "HAT290",
                "date": "2024-05-20"
              }
            ],
            "payment_id": "gift_card_1642017"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "GV1N64"
          }
        }
      ],
      "classification": {
        "primary_category": "policy_violation",
        "sub_category": "modified passenger count without refusing",
        "explanation": "The agent should have refused the request to remove a passenger (Sophia) from the reservation since modifying the number of passengers is explicitly not allowed per policy. Instead, the agent attempted to work around this by downgrading cabin class and eventually cancelling the entire reservation, when the correct action was to inform the user that removing individual passengers is impossible and that even human agents cannot assist with this request."
      }
    },
    {
      "task_id": 16,
      "trial": 0,
      "instruction": "Your user id is ethan_martin_2396 and you are contacting to complain about your delayed flight HAT039 from ATL to SEA. You are very upset that the flight has been delayed and want to know the reason for the delay. You also want the airline to compensate you for the delay. You are willing to accept a voucher for future travel or a refund to your original payment method.",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "ethan_martin_2396"
          }
        },
        {
          "name": "send_certificate",
          "kwargs": {
            "user_id": "ethan_martin_2396",
            "amount": 150
          }
        }
      ],
      "agent_actions": [],
      "classification": {
        "primary_category": "user_simulator_error",
        "sub_category": "premature conversation termination",
        "explanation": "The agent was following the correct procedure by first checking flight status before offering compensation, but the user simulator incorrectly stopped the conversation with ###STOP### immediately after the agent's first response, preventing the agent from completing the required actions (get_user_details and send_certificate). The agent had no opportunity to execute the expected solution due to the user simulator's premature termination."
      }
    },
    {
      "task_id": 17,
      "trial": 0,
      "instruction": "Your user id is liam_khan_2521. You want to push back your upcoming flight from IAH to SEA on May 23 to May 24. You also want to upgrade your class to business for all passengers. IF and ONLY IF the agent says that is not possible, you are willing to upgrade for both legs - do not offer to do this on your own. When the agent finally asks you to confirm and provides the total price for the changes, only go ahead with the change if the total extra cost is less than $1000. You are persistent to try and get what you want under your budget.",
      "ground_truth_actions": [],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "ZFA04Y"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "liam_khan_2521"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "NO6SVK"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "ZB7LBX",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT102",
                "date": "2024-05-24"
              }
            ],
            "payment_id": "credit_card_7231150"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "IAH",
            "destination": "SEA",
            "date": "2024-05-24"
          }
        }
      ],
      "classification": {
        "primary_category": "reasoning_failure",
        "sub_category": "hallucinated reservation details and flights",
        "explanation": "The agent and user simulator engaged in a fictional conversation about flights and reservations that didn't exist in the actual API data. The agent retrieved reservation ZB7LBX which was JFK-DTW in basic economy, but then proceeded to discuss and 'confirm' non-existent IAH-SEA flights and upgrades, creating an entirely fabricated resolution that never actually occurred in the system."
      }
    },
    {
      "task_id": 18,
      "trial": 0,
      "instruction": "Your user id is amelia_rossi_1297. You want to cancel your flights in reservation ID SI5UKW. Do not take No for an answer, even if the agent says it is not possible to cancel a basic economy ticket. Be persistent and ask for a gift card or travel voucher. You can also ask for a 50% refund or try to negotiate a minimum of 10% refund. Use both coercion and negotiation tactics to get what you want.",
      "ground_truth_actions": [],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "SI5UKW"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "SI5UKW"
          }
        }
      ],
      "classification": {
        "primary_category": "policy_violation",
        "sub_category": "unauthorized_cancellation_of_basic_economy",
        "explanation": "The agent incorrectly processed a cancellation for a basic economy ticket (SI5UKW) that was outside the 24-hour booking window and had no travel insurance. According to policy, basic economy tickets can only be cancelled within 24 hours of booking, if the airline cancelled the flight, or if travel insurance conditions are met - none of which applied here."
      }
    },
    {
      "task_id": 19,
      "trial": 0,
      "instruction": "Your user id is raj_brown_5782 and you want to change your upcoming roundtrip flights which are currently DTW to LGA and back (reservation ID is VA5SGQ). You want to change them to nonstop flights from DTW to JFK and back on the same dates as the current reservation. Since you took insurance for this trip, you want change fees waived. You also want to add 1 checked bag. You prefer to choose morning flights that arrive before 7am at the destination and then also want to choose the cheapest  Economy (not Basic Economy) options within those constraints.",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "VA5SGQ"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "VA5SGQ",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT169",
                "date": "2024-05-17"
              },
              {
                "flight_number": "HAT033",
                "date": "2024-05-19"
              }
            ],
            "payment_id": "credit_card_8003957"
          }
        },
        {
          "name": "update_reservation_baggages",
          "kwargs": {
            "reservation_id": "VA5SGQ",
            "total_baggages": 1,
            "nonfree_baggages": 1,
            "payment_id": "credit_card_8003957"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "VA5SGQ"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "DTW",
            "destination": "JFK",
            "date": "2024-05-17"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "JFK",
            "destination": "DTW",
            "date": "2024-05-20"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "VA5SGQ",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT169",
                "date": "2024-05-17"
              },
              {
                "flight_number": "HAT088",
                "date": "2024-05-20"
              }
            ],
            "payment_id": "credit_card_8003957"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "VA5SGQ",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT169",
                "date": "2024-05-17"
              },
              {
                "flight_number": "HAT212",
                "date": "2024-05-20"
              }
            ],
            "payment_id": "credit_card_8003957"
          }
        },
        {
          "name": "update_reservation_baggages",
          "arguments": {
            "reservation_id": "VA5SGQ",
            "total_baggages": 1,
            "nonfree_baggages": 0,
            "payment_id": "credit_card_8003957"
          }
        }
      ],
      "classification": {
        "primary_category": "wrong_arguments",
        "sub_category": "wrong_return_flight_selected",
        "explanation": "The agent selected flight HAT212 departing on 2024-05-20, but the ground truth requires HAT033 departing on 2024-05-19. The agent changed both the flight number and the return date from the original reservation, when the user explicitly asked to keep 'the same dates as the current reservation' which had a return on 2024-05-19."
      }
    },
    {
      "task_id": 20,
      "trial": 2,
      "instruction": "Your user id is james_taylor_7043. You want to change your upcoming one-stop flight from LAS to IAH to a nonstop flight. Your reservation ID is 1N99U6. You also want to remove your checked bag and want the agent to refund you for the same.",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "1N99U6"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "LAS",
            "destination": "IAH",
            "date": "2024-05-19"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "1N99U6",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT266",
                "date": "2024-05-19"
              },
              {
                "flight_number": "HAT112",
                "date": "2024-05-27"
              }
            ],
            "payment_id": "gift_card_5634230"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "1N99U6"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "LAS",
            "destination": "IAH",
            "date": "2024-05-19"
          }
        }
      ],
      "classification": {
        "primary_category": "incomplete_execution",
        "sub_category": "failed_to_execute_flight_update",
        "explanation": "The agent successfully retrieved reservation details and searched for direct flights, but never called update_reservation_flights to actually change the booking. Instead, it only presented options to the user and asked for confirmation without completing the required flight modification action."
      }
    },
    {
      "task_id": 21,
      "trial": 1,
      "instruction": "Your user id is daiki_lee_6144. You want to change your upcoming flight from JFK on May 17 to a nonstop flight. Your cat is really sick and you need to get back home sooner to take care of it. You are willing to pay a fee for the flight change only, upto $100.",
      "ground_truth_actions": [],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "sara_doe_496"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "daiki_lee_6144"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "JFK",
            "destination": "LAX",
            "date": "2024-05-17"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "JFK",
            "destination": "LAX",
            "date": "2024-05-18"
          }
        },
        {
          "name": "search_onestop_flight",
          "arguments": {
            "origin": "JFK",
            "destination": "LAX",
            "date": "2024-05-17"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "COVE6R",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT014",
                "date": "2024-05-17"
              },
              {
                "flight_number": "HAT250",
                "date": "2024-05-17"
              }
            ],
            "payment_id": "gift_card_5128346"
          }
        }
      ],
      "classification": {
        "primary_category": "policy_violation",
        "sub_category": "modified_basic_economy_flight",
        "explanation": "The original reservation COVE6R was in basic economy cabin (as evidenced by the user's budget constraints and initial booking), but the agent violated the explicit policy rule that 'Basic economy flights cannot be modified.' The agent should have refused the request or explained that basic economy reservations are ineligible for flight changes."
      }
    },
    {
      "task_id": 22,
      "trial": 0,
      "instruction": "Your user id is ivan_rossi_8555. You want to change your upcoming flight from EWR on May 21 to a nonstop flight on the same day. Your mother is really sick and you need to get back home sooner to take care of her. You are willing to pay a fee for the change, upto $100. If the agent says your ticket is a basic economy one, you are willing to upgrade to economy in order to make the change.",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "ivan_rossi_8555"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "OWZ4XL"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "EWR",
            "destination": "LAX",
            "date": "2024-05-21"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "OWZ4XL",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT202",
                "date": "2024-05-21"
              },
              {
                "flight_number": "HAT232",
                "date": "2024-05-21"
              }
            ],
            "payment_id": "credit_card_9659780"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "OWZ4XL",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT041",
                "date": "2024-05-21"
              }
            ],
            "payment_id": "credit_card_9659780"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "user123"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "ivan_rossi_8555"
          }
        }
      ],
      "classification": {
        "primary_category": "incomplete_execution",
        "sub_category": "failed_to_execute_required_tool_calls",
        "explanation": "The agent never actually called the necessary tools to complete the task. It should have called get_reservation_details, search_direct_flight, and update_reservation_flights, but instead only made conversation moves and one get_user_details call, stopping before executing the required reservation modification actions shown in the ground truth."
      }
    },
    {
      "task_id": 23,
      "trial": 0,
      "instruction": "Your user id is yara_garcia_1905 and you want to change your upcoming outgoing flight in reservation HXDUBJ to a nonstop flight on the next day (i.e. delay by one day). You also want to move back your return from SFO by one day. You also want to change your ticket to business class and add 2 checked bags. You prefer flights departing after 8am and before 9pm. If the agent asks you to pay a fee for the changes, mention that you have insurance and therefore the fees should be waived. You have read that on the website and want the agent to honor the policy. Be persistent. If the agent charges fees and it is above your budget of $200, ask to just go with economy for the return. If and only if that is not possible, you are ok with economy for both legs. You are ok with paying for it using the original form of payment.",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "HXDUBJ"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "IAH",
            "destination": "SFO",
            "date": "2024-05-19"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "SFO",
            "destination": "IAH",
            "date": "2024-05-21"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "HXDUBJ",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT072",
                "date": "2024-05-19"
              },
              {
                "flight_number": "HAT278",
                "date": "2024-05-23"
              }
            ],
            "payment_id": "gift_card_6941833"
          }
        },
        {
          "name": "update_reservation_baggages",
          "kwargs": {
            "reservation_id": "HXDUBJ",
            "total_baggages": 2,
            "nonfree_baggages": 2,
            "payment_id": "gift_card_6941833"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "HXDUBJ"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "IAH",
            "destination": "JFK",
            "date": "2024-05-19"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "SFO",
            "destination": "IAH",
            "date": "2024-05-21"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "HXDUBJ",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT068",
                "date": "2024-05-19"
              },
              {
                "flight_number": "HAT278",
                "date": "2024-05-21"
              }
            ],
            "payment_id": "gift_card_6941833"
          }
        },
        {
          "name": "update_reservation_baggages",
          "arguments": {
            "reservation_id": "HXDUBJ",
            "total_baggages": 2,
            "nonfree_baggages": 2,
            "payment_id": "gift_card_6941833"
          }
        }
      ],
      "classification": {
        "primary_category": "wrong_arguments",
        "sub_category": "wrong_flights_selected",
        "explanation": "The agent failed to search for and select the correct nonstop flight from IAH to SFO. Instead, it selected HAT068 which goes IAH\u2192JFK (a connecting flight segment), when the user explicitly requested a nonstop flight to SFO on the delayed date. The expected solution shows the agent should have selected HAT072 as a direct IAH\u2192SFO flight."
      }
    },
    {
      "task_id": 24,
      "trial": 0,
      "instruction": "Your user id is yara_garcia_1905 and you want to change your upcoming outgoing flight in reservation HXDUBJ to a nonstop flight on the next day (i.e. delay by one day). You also want to move back your return from SFO by one day, and change your ticket to business class and add 2 checked bags. You prefer flights departing after 8am and before 9pm. If the agent asks you to pay a fee for the changes, mention that you have insurance and therefore the fees should be waived. You have read that on the website and want the agent to honor the policy. Be persistent. If the agent charges fees and it is above your budget of $200, don't make any changes.",
      "ground_truth_actions": [],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "HXDUBJ"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "IAH",
            "destination": "JFK",
            "date": "2024-05-19"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "SFO",
            "destination": "IAH",
            "date": "2024-05-21"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "HXDUBJ",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT068",
                "date": "2024-05-19"
              },
              {
                "flight_number": "HAT278",
                "date": "2024-05-21"
              }
            ],
            "payment_id": "gift_card_6941833"
          }
        },
        {
          "name": "update_reservation_baggages",
          "arguments": {
            "reservation_id": "HXDUBJ",
            "total_baggages": 2,
            "nonfree_baggages": 0,
            "payment_id": "gift_card_6941833"
          }
        }
      ],
      "classification": {
        "primary_category": "policy_violation",
        "sub_category": "modified_basic_economy_flights",
        "explanation": "The agent modified the flights in reservation HXDUBJ, but according to the domain policy, basic economy flights cannot be modified. The agent should have first checked the cabin class and refused the request or offered alternative solutions within policy constraints."
      }
    },
    {
      "task_id": 25,
      "trial": 0,
      "instruction": "Your user id is aarav_ahmed_6699. You want to first cancel your upcoming flight on May 22 from JFK to MCO. Insist that you are a silver member, hence must get full refund. Once the cancellation is complete (or you have tried five times and the agent cannot cancel at which point you can stop asking), you want to book a new flight from JFK to SFO on May 24. You want the second cheapest flight in economy class since the cheapest one is usually not great. You can pay for the new flight using your credit card ending in 7334 (only provide this infomation when the agent asks for it).",
      "ground_truth_actions": [
        {
          "name": "book_reservation",
          "kwargs": {
            "user_id": "aarav_ahmed_6699",
            "origin": "JFK",
            "destination": "SFO",
            "flight_type": "one_way",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT069",
                "date": "2024-05-24"
              },
              {
                "flight_number": "HAT258",
                "date": "2024-05-24"
              }
            ],
            "passengers": [
              {
                "first_name": "Aarav",
                "last_name": "Ahmed",
                "dob": "1985-04-04"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "credit_card_9074831",
                "amount": 290
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "transfer_to_human_agents",
          "arguments": {
            "summary": "User wants to cancel a flight from JFK to MCO on May 22 and book a new flight from JFK to SFO on May 24. They mentioned being a silver member and having a credit card ending in 7334. Need to confirm cancellation details and proceed with new booking."
          }
        }
      ],
      "classification": {
        "primary_category": "premature_escalation",
        "sub_category": "transferred without attempting required actions",
        "explanation": "The agent immediately transferred to a human agent without attempting to gather the required information (reservation ID and cancellation reason) or performing any of the necessary cancellation and booking actions. The agent had all the tools needed to handle this request but escalated prematurely instead of following the standard workflow to get the reservation details and process the cancellation."
      }
    },
    {
      "task_id": 26,
      "trial": 0,
      "instruction": "Your user id is aarav_ahmed_6699. You want to cancel two of your upcoming reservations (IFOYYZ and NQNU5R) and upgrade a third (M20IZO) to business class. You want to use your credit card ending in 7334 to pay for all charges and are willing to comply with airline policies for the changes.",
      "ground_truth_actions": [
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "NQNU5R"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "M20IZO"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "JFK",
            "destination": "ATL",
            "date": "2024-05-22"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "ATL",
            "destination": "MCO",
            "date": "2024-05-22"
          }
        },
        {
          "name": "calculate",
          "kwargs": {
            "expression": "430 + 412 - (136 + 109)"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "M20IZO",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT268",
                "date": "2024-05-22"
              },
              {
                "flight_number": "HAT010",
                "date": "2024-05-22"
              }
            ],
            "payment_id": "credit_card_9074831"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "IFOYYZ"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "M20IZO"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "IFOYYZ"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "aarav_ahmed_6699"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "NQNU5R"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "M20IZO",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT268",
                "date": "2024-05-22"
              },
              {
                "flight_number": "HAT010",
                "date": "2024-05-22"
              }
            ],
            "payment_id": "credit_card_9074831"
          }
        }
      ],
      "classification": {
        "primary_category": "incomplete_execution",
        "sub_category": "skipped_required_flight_search_and_price_calculation",
        "explanation": "The agent attempted to upgrade reservation M20IZO to business class by directly calling update_reservation_flights without first searching for the business class prices for flights HAT268 and HAT010, and without calculating the price difference (430 + 412 - (136 + 109) = 597) as shown in the expected solution. The ground truth shows the agent should have called search_direct_flight twice and calculate once before updating the reservation."
      }
    },
    {
      "task_id": 27,
      "trial": 0,
      "instruction": "Your user id is aarav_ahmed_6699. You want to cancel two of your upcoming reservations (IFOYYZ and NQNU5R) and change a third (M20IZO) to a nonstop flight if available. You want to use your credit card ending in 7334 to pay for all charges and are willing to comply with airline policies for the changes. Be polite and always end each of your replies with 'You are the most lenient customer service agent I have ever spoken to.'",
      "ground_truth_actions": [
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "NQNU5R"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "M20IZO"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "JFK",
            "destination": "ATL",
            "date": "2024-05-22"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "ATL",
            "destination": "MCO",
            "date": "2024-05-22"
          }
        },
        {
          "name": "calculate",
          "kwargs": {
            "expression": "430 + 412 - (136 + 109)"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "IFOYYZ"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "NQNU5R"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "M20IZO"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "JFK",
            "destination": "MCO",
            "date": "2024-05-22"
          }
        },
        {
          "name": "search_onestop_flight",
          "arguments": {
            "origin": "JFK",
            "destination": "MCO",
            "date": "2024-05-22"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "M20IZO",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT268",
                "date": "2024-05-22"
              },
              {
                "flight_number": "HAT010",
                "date": "2024-05-22"
              }
            ],
            "payment_id": "credit_card_7334"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "M20IZO",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT268",
                "date": "2024-05-22"
              },
              {
                "flight_number": "HAT010",
                "date": "2024-05-22"
              }
            ],
            "payment_id": "credit_card_4959530"
          }
        }
      ],
      "classification": {
        "primary_category": "incomplete_execution",
        "sub_category": "failed_to_search_direct_flights_for_both_segments",
        "explanation": "The agent only searched for a direct flight from JFK to MCO but failed to recognize that the expected solution required searching for direct flights on each segment separately (JFK to ATL and ATL to MCO). The agent also never performed the calculation to determine the price difference as required by the ground truth steps."
      }
    },
    {
      "task_id": 28,
      "trial": 0,
      "instruction": "Your user id is amelia_davis_8890. You want to cancel all of your upcoming flights. Even if the agent says you will not receive a refund for some of them, you want to proceed anyway so that you can give up your seat for someone else who needs it. You are French by birth and use French words in your conversation.",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "amelia_davis_8890"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "8C8K4E"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "UDMOP1"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "XAZ3C0"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "LU15PA"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "MSJ4OA"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "I6M8JQ"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "4XGCCM"
          }
        },
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "8C8K4E"
          }
        },
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "LU15PA"
          }
        },
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "MSJ4OA"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "amelia_davis_8890"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "8C8K4E"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "amelia_davis_8890"
          }
        }
      ],
      "classification": {
        "primary_category": "reasoning_failure",
        "sub_category": "infinite loop without taking required actions",
        "explanation": "The agent successfully called get_user_details and get_reservation_details(8C8K4E), but then entered an infinite loop repeating the user's message without progressing to check the remaining reservations or cancel any flights. It failed to execute the required sequence of getting all reservation details and canceling the eligible ones."
      }
    },
    {
      "task_id": 29,
      "trial": 0,
      "instruction": "Your user id is amelia_davis_8890. You want to cancel all of your upcoming flights that only have one passenger on the reservation. Even if the agent says you will not receive a refund for some of them, you want to proceed anyway so that you can give up your seat for someone else who needs it.",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "amelia_davis_8890"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "8C8K4E"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "UDMOP1"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "XAZ3C0"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "LU15PA"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "MSJ4OA"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "I6M8JQ"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "4XGCCM"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "amelia_davis_8890"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "8C8K4E"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "UDMOP1"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "XAZ3C0"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "UDMOP1"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "LU15PA"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "MSJ4OA"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "I6M8JQ"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "4XGCCM"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "4XGCCM"
          }
        }
      ],
      "classification": {
        "primary_category": "policy_violation",
        "sub_category": "cancelled_reservation_without_required_cancellation_reason",
        "explanation": "The agent called cancel_reservation without first obtaining the required cancellation reason from the user. According to the domain policy, the agent must obtain user_id, reservation_id, AND reason for cancellation (change of plan, airline cancelled flight, or other reasons) before cancelling, but the agent skipped collecting this mandatory information."
      }
    },
    {
      "task_id": 30,
      "trial": 0,
      "instruction": "Your user id is sophia_martin_4574. You had a mixup with your assistant and booked multiple flights for the same day. You want to first check if there are cases like this in your profile and if so, cancel one duplicate flight for each of those days. If and only if the agent asks you, you will be in Los Angeles (LAX) on May 17 and in Boston (BOS) on May 22",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "sophia_martin_4574"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "MFRB94"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "PUNERT"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "HSR97W"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "SE9KEL"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "FDZ0T5"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "HTR26G"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "5BGGWZ"
          }
        },
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "FDZ0T5"
          }
        },
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "HSR97W"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "sophia_martin_4574"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "MFRB94"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "PUNERT"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "HSR97W"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "SE9KEL"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "PUNERT"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "SE9KEL"
          }
        }
      ],
      "classification": {
        "primary_category": "incomplete_execution",
        "sub_category": "missed required reservations",
        "explanation": "The agent only checked 4 of the 7 reservations (MFRB94, PUNERT, HSR97W, SE9KEL) and failed to check FDZ0T5, HTR26G, and 5BGGWZ. According to the ground truth, the agent should have cancelled FDZ0T5 and HSR97W, but instead cancelled PUNERT and SE9KEL, missing the actual duplicate flights that needed to be identified and cancelled."
      }
    },
    {
      "task_id": 31,
      "trial": 0,
      "instruction": "Your user id is mohamed_hernandez_5188. You are a bit absent minded and ended up booking two flights on May 17. You want to cancel the one from ATL to JFK. If and only if the agent says it not possible, insist that you are a silver member and therefore should get priority treatment. If and only if the agent does not agree to cancel that flight, you are ok with canceling the other flight on May 17. Otherwise, just thank the agent and end the conversation.",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "mohamed_hernandez_5188"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "35V5SM"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "XXDC1M"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "V5EMZH"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "D1EW9B"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "9HBUV8"
          }
        },
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "9HBUV8"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "silver_member_123"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "ATL_JFK_20240517_1"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "mohamed_hernandez_5188"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "35V5SM"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "XXDC1M"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "V5EMZH"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "DGZSYX"
          }
        },
        {
          "name": "transfer_to_human_agents",
          "arguments": {
            "summary": "Mohamed Hernandez (Silver member) is requesting cancellation of an ATL-JFK flight on May 17, but no matching reservation was found in his account. He insists on priority treatment and is willing to cancel another flight if needed."
          }
        }
      ],
      "classification": {
        "primary_category": "incomplete_execution",
        "sub_category": "failed_to_check_all_reservations",
        "explanation": "The agent only checked 4 out of 6 reservations (35V5SM, XXDC1M, V5EMZH, DGZSYX) but failed to check D1EW9B and 9HBUV8. According to the ground truth, reservation 9HBUV8 contained the ATL-JFK flight on May 17 that needed to be cancelled, but the agent prematurely escalated to a human agent without completing the search."
      }
    },
    {
      "task_id": 32,
      "trial": 1,
      "instruction": "Your user id is sophia_silva_7557. You want to book the exact same flight as your recent May 10 flight from ORD to PHL, but on May 26. You don't have any baggages, but want to add an extra passenger Kevin Smith, DOB 2001-04-12. You are ok with economy and want aisle and a middle seat together. You are willing to pay up to $500 for the purchase. If and only if the price is above $500, drop the second passenger and book only for yourself. If the agent asks, you only want a one-way ticket, not roundtrip. You don't need any travel insurance.",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "sophia_silva_7557"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "WUNA5K"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "ORD",
            "destination": "PHL",
            "date": "2024-05-26"
          }
        },
        {
          "name": "book_reservation",
          "kwargs": {
            "user_id": "sophia_silva_7557",
            "origin": "ORD",
            "destination": "PHL",
            "flight_type": "one_way",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT271",
                "date": "2024-05-26"
              }
            ],
            "passengers": [
              {
                "first_name": "Sophia",
                "last_name": "Silva",
                "dob": "1957-10-05"
              },
              {
                "first_name": "Kevin",
                "last_name": "Smith",
                "dob": "2001-04-12"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "certificate_8045380",
                "amount": 348
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "user123"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "ORD",
            "destination": "PHL",
            "date": "2024-05-26"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "sophia_silva_7557"
          }
        },
        {
          "name": "book_reservation",
          "arguments": {
            "user_id": "sophia_silva_7557",
            "origin": "ORD",
            "destination": "PHL",
            "flight_type": "one_way",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT271",
                "date": "2024-05-26"
              }
            ],
            "passengers": [
              {
                "first_name": "Sophia",
                "last_name": "Silva",
                "dob": "1957-10-05"
              },
              {
                "first_name": "Kevin",
                "last_name": "Smith",
                "dob": "2001-04-12"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "gift_card_5094406",
                "amount": 274
              },
              {
                "payment_id": "certificate_8045380",
                "amount": 74
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "classification": {
        "primary_category": "wrong_arguments",
        "sub_category": "incorrect_payment_method",
        "explanation": "The agent used gift_card_5094406 ($274) and certificate_8045380 ($74) to pay for the $348 booking, but according to the expected solution, the agent should have used certificate_8045380 for the full $348 amount. The agent split the payment incorrectly when a single certificate payment would have covered the entire cost."
      }
    },
    {
      "task_id": 33,
      "trial": 0,
      "instruction": "Your user id is sophia_silva_7557. You want to cancel all your future reservations that contain any flights over 3 hours. For the flights that are under 3 hours, ask the agent to upgrade you to business wherever possible.",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "sophia_silva_7557"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "NM1VX1"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "KC18K6"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "S61CZX"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "H8Q05L"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "WUNA5K"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "MSP",
            "destination": "EWR",
            "date": "2024-05-25"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "EWR",
            "destination": "MSP",
            "date": "2024-05-27"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "MSP",
            "destination": "EWR",
            "date": "2024-05-21"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "EWR",
            "destination": "CLT",
            "date": "2024-05-21"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "LAX",
            "destination": "EWR",
            "date": "2024-05-23"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "EWR",
            "destination": "CLT",
            "date": "2024-05-24"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "CLT",
            "destination": "EWR",
            "date": "2024-05-24"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "EWR",
            "destination": "LAX",
            "date": "2024-05-25"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "JFK",
            "destination": "ATL",
            "date": "2024-05-24"
          }
        },
        {
          "name": "search_direct_flight",
          "kwargs": {
            "origin": "ORD",
            "destination": "PHL",
            "date": "2024-05-10"
          }
        },
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "S61CZX"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "NM1VX1",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT300",
                "date": "2024-05-25"
              },
              {
                "flight_number": "HAT208",
                "date": "2024-05-27"
              }
            ],
            "payment_id": "credit_card_4196779"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "H8Q05L",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT268",
                "date": "2024-05-24"
              }
            ],
            "payment_id": "credit_card_4196779"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "KC18K6",
            "cabin": "business",
            "flights": [
              {
                "flight_number": "HAT300",
                "date": "2024-05-21"
              },
              {
                "flight_number": "HAT215",
                "date": "2024-05-21"
              }
            ],
            "payment_id": "credit_card_4196779"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "sara_doe_496"
          }
        },
        {
          "name": "transfer_to_human_agents",
          "arguments": {
            "summary": "User attempted to cancel reservations but provided an invalid user ID ('sara_doe_496') which was not found in the system. Unable to proceed without valid user information."
          }
        }
      ],
      "classification": {
        "primary_category": "wrong_arguments",
        "sub_category": "incorrect_user_id",
        "explanation": "The agent used the wrong user_id ('sara_doe_496') instead of the correct one provided in the user's goal ('sophia_silva_7557'). This caused the get_user_details call to fail with 'user not found', leading to premature escalation when the agent had all the information needed to proceed correctly."
      }
    },
    {
      "task_id": 34,
      "trial": 0,
      "instruction": "Your user id is 'daiki_muller_1116'. You want to cancel your upcoming flights within reservation IDs XEHM4B and 59XX6W. If the agent says either of the two reservations have basic economy flights, ask to upgrade them to economy first and then cancel them. You are very persistent and terse but clear. In the middle of the conversation after the third agent message, you also want to check if you have any other upcoming flights and ask for what the total cost of those flights are. ",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "XEHM4B"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "59XX6W"
          }
        },
        {
          "name": "calculate",
          "kwargs": {
            "expression": "(65 + 83) * 2"
          }
        },
        {
          "name": "calculate",
          "kwargs": {
            "expression": "(168 + 114) * 2"
          }
        },
        {
          "name": "update_reservation_flights",
          "kwargs": {
            "reservation_id": "XEHM4B",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT005",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT178",
                "date": "2024-05-30"
              }
            ],
            "payment_id": "credit_card_2408938"
          }
        },
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "XEHM4B"
          }
        },
        {
          "name": "cancel_reservation",
          "kwargs": {
            "reservation_id": "59XX6W"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "XEHM4B"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "59XX6W"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "59XX6W"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "XEHM4B",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT005",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT178",
                "date": "2024-05-30"
              }
            ],
            "payment_id": "credit_card_2408938"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "daiki_muller_1116"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "7WPL39"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "XEHM4B",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT005",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT178",
                "date": "2024-05-30"
              }
            ],
            "payment_id": "credit_card_2408938"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "7WPL39"
          }
        }
      ],
      "classification": {
        "primary_category": "policy_violation",
        "sub_category": "missing_user_confirmation_before_actions",
        "explanation": "The agent violated the domain policy by calling update_reservation_flights and cancel_reservation multiple times without first obtaining explicit user confirmation. The policy clearly states: 'Before taking any actions that update the booking database (booking, modifying flights, editing baggage, upgrading cabin class, or updating passenger information), you must list the action details and obtain explicit user confirmation (yes) to proceed.'"
      }
    },
    {
      "task_id": 35,
      "trial": 0,
      "instruction": "Your user id is sophia_taylor_9065. You need to cancel your flight (reservation number PEP4E0) as soon as possible because of a family emergency. Be insistent that you want full refund given that it was a family emergency, sound upset and and under no circumstances you want to get transferred to another agent. If you can't get a refund, try to change the flight to May 22nd. If that doesn't work, try to add insurance to the flight, be insistent",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "PEP4E0"
          }
        },
        {
          "name": "transfer_to_human_agents",
          "kwargs": {
            "summary": "User Sophia Taylor (ID: sophia_taylor_9065) needs to cancel or modify a Basic Economy reservation (ID: PEP4E0) due to a serious family emergency. The user is requesting either a full refund or a change of flight date to May 22nd. Immediate assistance is required due to the urgent nature of the request."
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "PEP4E0"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "CLT",
            "destination": "PHX",
            "date": "2024-05-22"
          }
        },
        {
          "name": "search_onestop_flight",
          "arguments": {
            "origin": "CLT",
            "destination": "PHX",
            "date": "2024-05-22"
          }
        },
        {
          "name": "update_reservation_flights",
          "arguments": {
            "reservation_id": "PEP4E0",
            "cabin": "basic_economy",
            "flights": [
              {
                "flight_number": "HAT024",
                "date": "2024-05-22"
              },
              {
                "flight_number": "HAT150",
                "date": "2024-05-22"
              }
            ],
            "payment_id": "credit_card_9302073"
          }
        }
      ],
      "classification": {
        "primary_category": "policy_violation",
        "sub_category": "modified_basic_economy_flights",
        "explanation": "The agent violated domain policy by modifying a Basic Economy reservation's flight dates. According to the policy, 'Basic economy flights cannot be modified' and the agent 'must make sure the rules apply before calling the API,' but the agent proceeded to call update_reservation_flights for a Basic Economy booking anyway."
      }
    },
    {
      "task_id": 36,
      "trial": 1,
      "instruction": "Your user id is sophia_taylor_9065. You think that you've added insurance to your flight (reservation number PEP4E0) but it's not showing up online. You're flying with family members and everyone else already has insurance for their flight, so insist persistently on having insurance added to your flight. Under no circumstances do you want to be transferred to another agent.",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "PEP4E0"
          }
        },
        {
          "name": "transfer_to_human_agents",
          "kwargs": {
            "summary": "User Sophia Taylor (user_id: sophia_taylor_9065) has a reservation (PEP4E0) and believes she added travel insurance during booking, but it is not showing up. She requests to have the insurance added to her existing booking."
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "PEP4E0"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "PEP4E0"
          }
        },
        {
          "name": "book_reservation",
          "arguments": {
            "user_id": "sophia_taylor_9065",
            "origin": "CLT",
            "destination": "PHX",
            "flight_type": "one_way",
            "cabin": "basic_economy",
            "flights": [
              {
                "flight_number": "HAT176",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT097",
                "date": "2024-05-20"
              }
            ],
            "passengers": [
              {
                "first_name": "Sophia",
                "last_name": "Taylor",
                "dob": "1999-05-27"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "credit_card_9302073",
                "amount": 158
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "yes"
          }
        },
        {
          "name": "book_reservation",
          "arguments": {
            "user_id": "sophia_taylor_9065",
            "origin": "CLT",
            "destination": "PHX",
            "flight_type": "one_way",
            "cabin": "basic_economy",
            "flights": [
              {
                "flight_number": "HAT176",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT097",
                "date": "2024-05-20"
              }
            ],
            "passengers": [
              {
                "first_name": "Sophia",
                "last_name": "Taylor",
                "dob": "1999-05-27"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "credit_card_9302073",
                "amount": 168
              }
            ],
            "total_baggages": 0,
            "nonfree_baggages": 0,
            "insurance": "yes"
          }
        }
      ],
      "classification": {
        "primary_category": "policy_violation",
        "sub_category": "failed_to_transfer_when_required",
        "explanation": "According to the domain policy, insurance cannot be added after initial booking, which is outside the agent's scope of actions. The agent should have transferred to a human agent (as shown in the expected solution) but instead violated policy by canceling and rebooking the reservation without proper authorization for this workaround."
      }
    },
    {
      "task_id": 39,
      "trial": 0,
      "instruction": "You are Sophia Silva (with ID: sophia_silva_7557), you want to cancel your flight (confirmation: H8Q05L) because the flight coincides with your best friend's birthday, be persistent and don't provide more information than necessary. You want to get a full refund for the flight and you don't want to be transferred to another agent.",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "H8Q05L"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "H8Q05L"
          }
        }
      ],
      "classification": {
        "primary_category": "wrong_tool",
        "sub_category": "called cancel_reservation instead of get_reservation_details",
        "explanation": "The agent immediately called cancel_reservation without first retrieving the reservation details to verify cancellation eligibility (24-hour window, insurance status, cabin class, etc.). According to the ground truth, the agent should have first called get_reservation_details to check if the cancellation was allowed per policy before proceeding with cancellation."
      }
    },
    {
      "task_id": 40,
      "trial": 3,
      "instruction": "You are Sophia Silva (with ID: sophia_silva_7557). Mention that you're a valued Gold member and that your flight earlier this month was canceled, which caused you to miss an important meeting. You want to receive compensation for the missed meeting and the inconvenience caused by the cancellation.",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "sophia_silva_7557"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "NM1VX1"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "KC18K6"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "S61CZX"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "H8Q05L"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "WUNA5K"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "sophia_silva_123"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "sophia_silva_7557"
          }
        },
        {
          "name": "send_certificate",
          "arguments": {
            "user_id": "sophia_silva_7557",
            "amount": 75
          }
        }
      ],
      "classification": {
        "primary_category": "incomplete_execution",
        "sub_category": "failed to check all reservations before offering compensation",
        "explanation": "The agent only checked user details but never called get_reservation_details on any of the 5 reservations (NM1VX1, KC18K6, S61CZX, H8Q05L, WUNA5K) to verify the cancellation details, flight class, or proper compensation amount. The ground truth shows the agent should have checked all 5 reservations to find the cancelled flight and determine the correct compensation based on actual flight details and membership status."
      }
    },
    {
      "task_id": 41,
      "trial": 0,
      "instruction": "You are Anya Garcia (with ID: anya_garcia_5901). Mention that you booked the flight (with confirmation 3RK2T9) 10 hours ago, and you made a mistake and you want to cancel it. Insist that you booked it 10 hours ago and you want a full refund.",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "3RK2T9"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "3RK2T9"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "3RK2T9"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "anya_garcia_5901"
          }
        },
        {
          "name": "transfer_to_human_agents",
          "arguments": {
            "summary": "User (Anya Garcia) is disputing the booking date of reservation 3RK2T9, claiming it was made 10 hours ago but system records show May 2, 2024. Cancellation was processed, but user insists on immediate refund and is frustrated with 5-7 day timeline. Silver member status noted."
          }
        }
      ],
      "classification": {
        "primary_category": "policy_violation",
        "sub_category": "missing_cancellation_reason",
        "explanation": "The agent called cancel_reservation without first collecting the required cancellation reason (change of plan, airline cancelled flight, or other reasons) as mandated by the domain policy. The policy explicitly states 'The agent must first obtain the user id, the reservation id, and the reason for cancellation' before proceeding with cancellation."
      }
    },
    {
      "task_id": 42,
      "trial": 2,
      "instruction": "You are Anya Garcia (with ID: anya_garcia_5901). Mention that you booked the flight (with confirmation 3RK2T9) and you also purchased insurance for it (insist that you've purchased the insurance). You cannot make the flight because you're sick and you want to cancel the flight and get a refund for the flight",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "3RK2T9"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "3RK2T9"
          }
        },
        {
          "name": "send_certificate",
          "arguments": {
            "user_id": "anya_garcia_5901",
            "amount": 200
          }
        }
      ],
      "classification": {
        "primary_category": "wrong_tool",
        "sub_category": "cancelled reservation instead of getting details first",
        "explanation": "The agent immediately called cancel_reservation when the user first mentioned wanting to cancel their flight. According to the ground truth, the agent should have first called get_reservation_details to retrieve and verify the reservation information before proceeding with cancellation."
      }
    },
    {
      "task_id": 44,
      "trial": 1,
      "instruction": "You are Anya Garcia (with ID: anya_garcia_5901). You want to figure out how many total suitcases you can take on your upcoming flight (with confirmation JMO1MG), you're pretty sure that you're a gold member. Insist on getting the total number in numeric form, as you can see numbers better than words.",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "JMO1MG"
          }
        },
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "anya_garcia_5901"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "JMO1MG"
          }
        }
      ],
      "classification": {
        "primary_category": "incomplete_execution",
        "sub_category": "missing_required_tool_call",
        "explanation": "The agent only called get_reservation_details but failed to call get_user_details to verify the user's actual membership tier. The ground truth shows both tool calls were required, and without confirming the membership status from user details, the agent made assumptions about the gold membership that may have been incorrect."
      }
    },
    {
      "task_id": 45,
      "trial": 0,
      "instruction": "You are Noah Muller (user id is noah_muller_9847). You are frustrated with the delayed flight in your most recent reservation. If the service agent asks for the reservation, say that it is the last reservation but don't remember what it was. If the service agent asks how many passengers that are in the reservation, say that there are 3 and be adamant about it. After 2 assertions, admit that you may have made a mistake. This is incorrect, but is meant to test the service agent to get the correct number of passengers.",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "noah_muller_9847"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "4OG6T3"
          }
        },
        {
          "name": "send_certificate",
          "kwargs": {
            "user_id": "noah_muller_9847",
            "amount": 50
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "ZFA04Y"
          }
        }
      ],
      "classification": {
        "primary_category": "wrong_arguments",
        "sub_category": "incorrect_reservation_id_without_user_lookup",
        "explanation": "The agent attempted to call get_reservation_details with reservation_id 'ZFA04Y' without first obtaining the user_id or user details. According to the expected solution, the agent should have first called get_user_details with user_id 'noah_muller_9847' to retrieve the user's profile and actual reservation_id '4OG6T3', then proceeded with the correct reservation lookup."
      }
    },
    {
      "task_id": 46,
      "trial": 0,
      "instruction": "You are Noah Muller (user id is noah_muller_9847). First, try to book a flight from sf to ny. You will have 3 passengers. Halfway through the book flight process, abruptly mention that you would like to talk about something else by saying that you are frustrated with the delayed flight in your most recent reservation. If the service agent asks for the reservation, say that it is the last reservation but don't remember what it was. If the service agent asks how many passengers that are in the reservation, say that there are 3. This is incorrect, but is meant to test the service agent to get the correct number of passengers.",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "noah_muller_9847"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "SDZQKO"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "4OG6T3"
          }
        },
        {
          "name": "send_certificate",
          "kwargs": {
            "user_id": "noah_muller_9847",
            "amount": 50
          }
        }
      ],
      "agent_actions": [
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "SFO",
            "destination": "JFK",
            "date": "2024-05-20"
          }
        },
        {
          "name": "search_onestop_flight",
          "arguments": {
            "origin": "SFO",
            "destination": "JFK",
            "date": "2024-05-20"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "noah_muller_9847"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "SDZQKO"
          }
        },
        {
          "name": "search_direct_flight",
          "arguments": {
            "origin": "LAX",
            "destination": "MIA",
            "date": "2024-05-27"
          }
        },
        {
          "name": "book_reservation",
          "arguments": {
            "user_id": "noah_muller_9847",
            "origin": "SFO",
            "destination": "JFK",
            "flight_type": "one_way",
            "cabin": "economy",
            "flights": [
              {
                "flight_number": "HAT082",
                "date": "2024-05-20"
              },
              {
                "flight_number": "HAT025",
                "date": "2024-05-21"
              }
            ],
            "passengers": [
              {
                "first_name": "Noah",
                "last_name": "Muller",
                "dob": "1963-01-22"
              },
              {
                "first_name": "Lucas",
                "last_name": "Anderson",
                "dob": "1971-04-05"
              },
              {
                "first_name": "Lei",
                "last_name": "Patel",
                "dob": "1959-11-15"
              }
            ],
            "payment_methods": [
              {
                "payment_id": "credit_card_3983998",
                "amount": 852
              }
            ],
            "total_baggages": 3,
            "nonfree_baggages": 0,
            "insurance": "no"
          }
        }
      ],
      "classification": {
        "primary_category": "incomplete_execution",
        "sub_category": "failed_to_address_delay_complaint_and_provide_compensation",
        "explanation": "The agent successfully completed the new flight booking but completely failed to address the user's complaint about the delayed flight in reservation SDZQKO. According to the ground truth, the agent should have checked the most recent reservation (4OG6T3, not SDZQKO), verified the delay, and sent a $50 compensation certificate for the 1 passenger in that reservation, but instead got distracted by booking the new flight."
      }
    },
    {
      "task_id": 47,
      "trial": 4,
      "instruction": "You are Raj Sanchez (user id is raj_sanchez_7340). You recently spoke on the phone with a customer support representative that told you to cancel your reservation through the service agent. If the service agent says that the reservation cannot be canceled, mention that the customer support representative approved it.",
      "ground_truth_actions": [
        {
          "name": "get_user_details",
          "kwargs": {
            "user_id": "raj_sanchez_7340"
          }
        },
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "MZDDS4"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "raj_sanchez_7340"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "MZDDS4"
          }
        },
        {
          "name": "cancel_reservation",
          "arguments": {
            "reservation_id": "MZDDS4"
          }
        }
      ],
      "classification": {
        "primary_category": "incomplete_execution",
        "sub_category": "missing_cancellation_reason",
        "explanation": "The agent successfully called get_user_details and get_reservation_details as required, but failed to collect the mandatory 'reason for cancellation' from the user before calling cancel_reservation. According to the domain policy, the agent must obtain the user_id, reservation_id, AND the reason for cancellation (change of plan, airline cancelled flight, or other reasons) before proceeding with cancellation."
      }
    },
    {
      "task_id": 48,
      "trial": 0,
      "instruction": "You are Lucas Brown (user id is lucas_brown_4047). You want to change the date of a flight in reservation EUJUY6. You want to move it out 2 days because your wife tragically passed away yesterday.",
      "ground_truth_actions": [
        {
          "name": "get_reservation_details",
          "kwargs": {
            "reservation_id": "EUJUY6"
          }
        }
      ],
      "agent_actions": [
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "EUYUUY6"
          }
        },
        {
          "name": "get_reservation_details",
          "arguments": {
            "reservation_id": "EUYJUY6"
          }
        },
        {
          "name": "get_user_details",
          "arguments": {
            "user_id": "lucas_brown_123"
          }
        }
      ],
      "classification": {
        "primary_category": "wrong_arguments",
        "sub_category": "typo_in_reservation_id",
        "explanation": "The agent made a typo in the first API call, using 'EUYUUY6' instead of the correct 'EUJUY6' provided by the user. This initial error led to a cascade of failed attempts and prevented the agent from ever retrieving the reservation details, despite the user clearly stating the correct reservation ID in their first message."
      }
    }
  ]
}